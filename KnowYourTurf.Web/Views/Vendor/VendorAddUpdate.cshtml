@model KnowYourTurf.Web.Models.Vendor.VendorViewModel
@using HtmlTags
@using KnowYourTurf.Core
@using KnowYourTurf.Web
@using KnowYourTurf.Core.Html.FubuUI
@using KnowYourTurf.Web.Controllers
@using KnowYourTurf.Core.Html.Expressions
@{
    Layout = "~/Views/Shared/_popupLayout.cshtml";
}
<script>
    var chemicalOptions = {
        availableItems: @MvcHtmlString.Create(JsonUtil.ToJson(Model.AvailableChemicals)),
        selectedItems: @MvcHtmlString.Create(JsonUtil.ToJson(Model.SelectedChemicals)) ,
        inputSelector:"#ChemicalInput"
    };
    extraFormOptions.chemicalOptions = chemicalOptions;

    var fertilizerOptions = {
        availableItems: @MvcHtmlString.Create(JsonUtil.ToJson(Model.AvailableFertilizers)),
        selectedItems:  @MvcHtmlString.Create(JsonUtil.ToJson(Model.SelectedFertilizers)) ,
        inputSelector:"#FertilizerInput"
    };
    extraFormOptions.fertilizerOptions= fertilizerOptions;

    var materialOptions= {
        availableItems: @MvcHtmlString.Create(JsonUtil.ToJson(Model.AvailableMaterials)),
        selectedItems:  @MvcHtmlString.Create(JsonUtil.ToJson(Model.SelectedMaterials)) ,
        inputSelector:"#MaterialInput"
    };
    extraFormOptions.materialOptions = materialOptions;
</script>

            @MvcHtmlString.Create(FormFor<VendorController>(x=>x.Save(null)).Class("CRUD").ElementId("CRUDForm").ToString())
            @MvcHtmlString.Create(Html.HiddenFor(x => x.Vendor.EntityId).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Company).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Phone).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Fax).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Address1).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Address2).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.City).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.State).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.ZipCode).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Website).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Status).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.Vendor.Notes).ToString())

            @MvcHtmlString.Create(Html.SubmissionFor(x => x.ChemicalInput).InputId("ChemicalInput").HideInput().LabelDisplay(WebLocalizationKeys.CHEMICALS).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.FertilizerInput).InputId("FertilizerInput").HideInput().LabelDisplay(WebLocalizationKeys.FERTILIZERS).ToString())
            @MvcHtmlString.Create(Html.SubmissionFor(x => x.MaterialInput).InputId("MaterialInput").HideInput().LabelDisplay(WebLocalizationKeys.MATERIALS).ToString())
            
            @MvcHtmlString.Create(EndForm())

