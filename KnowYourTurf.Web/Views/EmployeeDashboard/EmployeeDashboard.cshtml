@model KnowYourTurf.Web.Models.EmployeeDashboardViewModel
@using KnowYourTurf.Core;
@using KnowYourTurf.Core.Html.Expressions
@using KnowYourTurf.Web
@using KnowYourTurf.Core.Html.FubuUI
@using HtmlTags
@using KnowYourTurf.Web.Controllers


@{ Layout = "~/Views/Shared/_EmptyLayout.cshtml"; }


@section HeaderJavascript{
    var rolesOptions = {
        availableItems: @MvcHtmlString.Create(JsonUtil.ToJson(Model.AvailableItems)),
        selectedItems: @MvcHtmlString.Create(JsonUtil.ToJson(Model.SelectedItems)),
        inputSelector:"#RolesInput",
    name:"Roles"

    };
    extraFormOptions.rolesOptions = rolesOptions;
    extraFormOptions.pendingGridUrl=  " @MvcHtmlString.Create(Model.PendingGridUrl)";
    extraFormOptions.completedGridUrl= " @MvcHtmlString.Create(Model.CompletedGridUrl)";
}

@MvcHtmlString.Create(FormFor<EmployeeController>(x => x.Save(null)).Class("CRUD").ElementId("CRUDForm").ToString())
    @MvcHtmlString.Create(Html.HiddenFor(x => x.Item.EntityId).ToString())
    @MvcHtmlString.Create(Html.HiddenFor(x => x.AddUpdateUrl).ToString())
    <input type="hidden" id="returnToList" name="ReturnToList" value="@Model.ReturnToList"/>
    <input type="hidden" id="employeeId" value="@Model.Item.EntityId"/>
    <div class="col left">
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.EmployeeId).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.FirstName).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.LastName).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.EmergencyContact).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.EmergencyContactPhone).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.UserLoginInfo.Password).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.Email).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.PhoneMobile).ToHtmlTag()
        </div>
    </div>
    <div class="col left">
     @{
         if (Model.Item.ImageUrl.IsNotEmpty())
         {
             <div class="fieldRow">
                 @Html.ViewFor(x => x.Item.ImageUrl).HideLabel().AddClassToInput("KYT_dashboardImage").ToHtmlTag()
             </div>
         }
     }
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.Address1).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.Address2).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.City).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.State).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.ZipCode).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.UserLoginInfo.Status).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Item.Notes).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.RolesInput).InputId("RolesInput").HideInput().RootId("rolesInputRoot").LabelDisplay(WebLocalizationKeys.USER_ROLES).OperationName("/UserRoles").ToHtmlTag()
        </div>
        <div class="fieldRow">
            <div id="newImage">
                <p><input type="file" id="fileUpload" name="fileUpload" size="23"/></p><br />
            </div>
        </div>
    </div>


@EndForm()
<div class="col full clear"></div>
<div class="col left">
    @StandardButtonFor("save", WebLocalizationKeys.SAVE).AddClass("save").ToHtmlTag()
    @StandardButtonFor("cancel", WebLocalizationKeys.CANCEL).AddClass("cancel").ToHtmlTag()
</div>
<div class="col full clear"><hr/></div>

    <div class="col left clear">
        <div class="fieldRow">
            <div class="gridHeader">@WebLocalizationKeys.PENDING_TASKS</div>
            <div id="pendingTaskGridContainer"></div>
        </div>
    </div>

    <div class="col right">
        <div class="fieldRow">
            <div class="gridHeader">@WebLocalizationKeys.COMPLETED_TASKS</div>
            <div id="completedTaskGridContainer" class="grid_4 KYT_AddNew_space"></div>

        </div>
    </div>
